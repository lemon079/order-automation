{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/schemas/order.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\n// Item schema\r\nexport const orderItemSchema = z.object({\r\n    name: z.string().min(1, 'Item name is required'),\r\n    quantity: z.number().int().positive('Quantity must be positive'),\r\n    weight: z.number().positive().optional(),\r\n    notes: z.string().optional(),\r\n});\r\n\r\nexport type OrderItem = z.infer<typeof orderItemSchema>;\r\n\r\n// Order status enum\r\nexport const orderStatusSchema = z.enum([\r\n    'pending',\r\n    'confirmed',\r\n    'assigned',\r\n    'picked_up',\r\n    'in_transit',\r\n    'delivered',\r\n    'cancelled',\r\n]);\r\n\r\nexport type OrderStatus = z.infer<typeof orderStatusSchema>;\r\n\r\n// Create order schema (for POST requests)\r\nexport const createOrderSchema = z.object({\r\n    // Customer details\r\n    customer_name: z.string().min(1, 'Customer name is required'),\r\n    customer_phone: z.string().min(10, 'Valid phone number required'),\r\n    customer_email: z.string().email().optional().or(z.literal('')),\r\n\r\n    // Pickup location\r\n    pickup_address: z.string().min(5, 'Pickup address is required'),\r\n    pickup_lat: z.number().optional(),\r\n    pickup_lng: z.number().optional(),\r\n    pickup_contact_name: z.string().optional(),\r\n    pickup_contact_phone: z.string().optional(),\r\n\r\n    // Drop-off location\r\n    dropoff_address: z.string().min(5, 'Drop-off address is required'),\r\n    dropoff_lat: z.number().optional(),\r\n    dropoff_lng: z.number().optional(),\r\n    dropoff_contact_name: z.string().optional(),\r\n    dropoff_contact_phone: z.string().optional(),\r\n\r\n    // Items\r\n    items: z.array(orderItemSchema).min(1, 'At least one item is required'),\r\n\r\n    // Time windows\r\n    pickup_time_window_start: z.string().datetime().optional(),\r\n    pickup_time_window_end: z.string().datetime().optional(),\r\n    dropoff_time_window_start: z.string().datetime().optional(),\r\n    dropoff_time_window_end: z.string().datetime().optional(),\r\n\r\n    // Notes\r\n    special_instructions: z.string().optional(),\r\n    internal_notes: z.string().optional(),\r\n});\r\n\r\nexport type CreateOrderInput = z.infer<typeof createOrderSchema>;\r\n\r\n// Update order schema (for PATCH requests)\r\nexport const updateOrderSchema = createOrderSchema.partial().extend({\r\n    status: orderStatusSchema.optional(),\r\n    assigned_driver_id: z.string().uuid().optional(),\r\n});\r\n\r\nexport type UpdateOrderInput = z.infer<typeof updateOrderSchema>;\r\n\r\n// Full order schema (from database)\r\nexport const orderSchema = createOrderSchema.extend({\r\n    id: z.string().uuid(),\r\n    created_at: z.string().datetime(),\r\n    updated_at: z.string().datetime(),\r\n    status: orderStatusSchema,\r\n    assigned_driver_id: z.string().uuid().nullable().optional(),\r\n});\r\n\r\nexport type Order = z.infer<typeof orderSchema>;\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAGO,MAAM,kBAAkB,qLAAC,CAAC,MAAM,CAAC;IACpC,MAAM,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,UAAU,qLAAC,CAAC,MAAM,GAAG,GAAG,GAAG,QAAQ,CAAC;IACpC,QAAQ,qLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ;IACtC,OAAO,qLAAC,CAAC,MAAM,GAAG,QAAQ;AAC9B;AAKO,MAAM,oBAAoB,qLAAC,CAAC,IAAI,CAAC;IACpC;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AAKM,MAAM,oBAAoB,qLAAC,CAAC,MAAM,CAAC;IACtC,mBAAmB;IACnB,eAAe,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACjC,gBAAgB,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI;IACnC,gBAAgB,qLAAC,CAAC,MAAM,GAAG,KAAK,GAAG,QAAQ,GAAG,EAAE,CAAC,qLAAC,CAAC,OAAO,CAAC;IAE3D,kBAAkB;IAClB,gBAAgB,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAClC,YAAY,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,YAAY,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,qBAAqB,qLAAC,CAAC,MAAM,GAAG,QAAQ;IACxC,sBAAsB,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAEzC,oBAAoB;IACpB,iBAAiB,qLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACnC,aAAa,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,aAAa,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,sBAAsB,qLAAC,CAAC,MAAM,GAAG,QAAQ;IACzC,uBAAuB,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAE1C,QAAQ;IACR,OAAO,qLAAC,CAAC,KAAK,CAAC,iBAAiB,GAAG,CAAC,GAAG;IAEvC,eAAe;IACf,0BAA0B,qLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ;IACxD,wBAAwB,qLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ;IACtD,2BAA2B,qLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ;IACzD,yBAAyB,qLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ;IAEvD,QAAQ;IACR,sBAAsB,qLAAC,CAAC,MAAM,GAAG,QAAQ;IACzC,gBAAgB,qLAAC,CAAC,MAAM,GAAG,QAAQ;AACvC;AAKO,MAAM,oBAAoB,kBAAkB,OAAO,GAAG,MAAM,CAAC;IAChE,QAAQ,kBAAkB,QAAQ;IAClC,oBAAoB,qLAAC,CAAC,MAAM,GAAG,IAAI,GAAG,QAAQ;AAClD;AAKO,MAAM,cAAc,kBAAkB,MAAM,CAAC;IAChD,IAAI,qLAAC,CAAC,MAAM,GAAG,IAAI;IACnB,YAAY,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,YAAY,qLAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,QAAQ;IACR,oBAAoB,qLAAC,CAAC,MAAM,GAAG,IAAI,GAAG,QAAQ,GAAG,QAAQ;AAC7D"}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr';\r\n\r\nexport function createClient() {\r\n    return createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAIQ;AAJR;AAAA;;AAEO,SAAS;IACZ,OAAO,IAAA,oMAAmB;AAI9B"}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/supabase/middleware.ts"],"sourcesContent":["import { createServerClient } from '@supabase/ssr';\r\nimport { NextResponse, type NextRequest } from 'next/server';\r\n\r\nexport async function updateSession(request: NextRequest) {\r\n    let supabaseResponse = NextResponse.next({\r\n        request,\r\n    });\r\n\r\n    const supabase = createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return request.cookies.getAll();\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    cookiesToSet.forEach(({ name, value }) => request.cookies.set(name, value));\r\n                    supabaseResponse = NextResponse.next({\r\n                        request,\r\n                    });\r\n                    cookiesToSet.forEach(({ name, value, options }) =>\r\n                        supabaseResponse.cookies.set(name, value, options)\r\n                    );\r\n                },\r\n            },\r\n        }\r\n    );\r\n\r\n    const {\r\n        data: { user },\r\n    } = await supabase.auth.getUser();\r\n\r\n    // Public paths that don't require authentication\r\n    const publicPaths = ['/', '/signin', '/signup', '/callback', '/signout'];\r\n    const isPublicPath = publicPaths.some(path => request.nextUrl.pathname === path);\r\n\r\n    // Redirect unauthenticated users to signin\r\n    if (!user && !isPublicPath) {\r\n        const url = request.nextUrl.clone();\r\n        url.pathname = '/signin';\r\n        return NextResponse.redirect(url);\r\n    }\r\n\r\n    // Redirect authenticated users from auth pages to dashboard\r\n    if (user && (request.nextUrl.pathname === '/signin' || request.nextUrl.pathname === '/signup')) {\r\n        const url = request.nextUrl.clone();\r\n        url.pathname = '/dashboard';\r\n        return NextResponse.redirect(url);\r\n    }\r\n\r\n    return supabaseResponse;\r\n}\r\n"],"names":[],"mappings":";;;;AASQ;AATR;AAAA;AACA;;;AAEO,eAAe,cAAc,OAAoB;IACpD,IAAI,mBAAmB,iJAAY,CAAC,IAAI,CAAC;QACrC;IACJ;IAEA,MAAM,WAAW,IAAA,kMAAkB,sUAG/B;QACI,SAAS;YACL;gBACI,OAAO,QAAQ,OAAO,CAAC,MAAM;YACjC;YACA,QAAO,YAAY;gBACf,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,GAAK,QAAQ,OAAO,CAAC,GAAG,CAAC,MAAM;gBACpE,mBAAmB,iJAAY,CAAC,IAAI,CAAC;oBACjC;gBACJ;gBACA,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC1C,iBAAiB,OAAO,CAAC,GAAG,CAAC,MAAM,OAAO;YAElD;QACJ;IACJ;IAGJ,MAAM,EACF,MAAM,EAAE,IAAI,EAAE,EACjB,GAAG,MAAM,SAAS,IAAI,CAAC,OAAO;IAE/B,iDAAiD;IACjD,MAAM,cAAc;QAAC;QAAK;QAAW;QAAW;QAAa;KAAW;IACxE,MAAM,eAAe,YAAY,IAAI,CAAC,CAAA,OAAQ,QAAQ,OAAO,CAAC,QAAQ,KAAK;IAE3E,2CAA2C;IAC3C,IAAI,CAAC,QAAQ,CAAC,cAAc;QACxB,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG;QACf,OAAO,iJAAY,CAAC,QAAQ,CAAC;IACjC;IAEA,4DAA4D;IAC5D,IAAI,QAAQ,CAAC,QAAQ,OAAO,CAAC,QAAQ,KAAK,aAAa,QAAQ,OAAO,CAAC,QAAQ,KAAK,SAAS,GAAG;QAC5F,MAAM,MAAM,QAAQ,OAAO,CAAC,KAAK;QACjC,IAAI,QAAQ,GAAG;QACf,OAAO,iJAAY,CAAC,QAAQ,CAAC;IACjC;IAEA,OAAO;AACX"}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/supabase/index.ts"],"sourcesContent":["// Re-export Supabase utilities for client-side use\r\n// Note: Server client is NOT exported from here to avoid importing 'next/headers' in client components\r\n// Import server client directly: import { createClient } from '@repo/shared/supabase/server'\r\nexport { createClient as createBrowserClient } from './client';\r\nexport * from './middleware';\r\n\r\n"],"names":[],"mappings":"AAAA,mDAAmD;AACnD,uGAAuG;AACvG,6FAA6F;;AAC7F;AACA"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/auth-context.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { createBrowserClient } from './supabase';\r\nimport type { User, Session } from '@supabase/supabase-js';\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    loading: boolean;\r\n    logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n    const supabase = createBrowserClient();\r\n\r\n    useEffect(() => {\r\n        // Get initial session\r\n        supabase.auth.getSession().then(({ data: { session } }: { data: { session: Session | null } }) => {\r\n            setUser(session?.user ?? null);\r\n            setLoading(false);\r\n        });\r\n\r\n        // Listen for auth changes\r\n        const {\r\n            data: { subscription },\r\n        } = supabase.auth.onAuthStateChange((_event: string, session: Session | null) => {\r\n            setUser(session?.user ?? null);\r\n        });\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, [supabase.auth]);\r\n\r\n    const logout = async () => {\r\n        await supabase.auth.signOut();\r\n        router.push('/signin');\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, loading, logout }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAAA;;;AAJA;;;;AAaA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,gOAAmB;IAEpC,IAAA,0KAAS;kCAAC;YACN,sBAAsB;YACtB,SAAS,IAAI,CAAC,UAAU,GAAG,IAAI;0CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAyC;oBACzF,QAAQ,SAAS,QAAQ;oBACzB,WAAW;gBACf;;YAEA,0BAA0B;YAC1B,MAAM,EACF,MAAM,EAAE,YAAY,EAAE,EACzB,GAAG,SAAS,IAAI,CAAC,iBAAiB;0CAAC,CAAC,QAAgB;oBACjD,QAAQ,SAAS,QAAQ;gBAC7B;;YAEA;0CAAO,IAAM,aAAa,WAAW;;QACzC;iCAAG;QAAC,SAAS,IAAI;KAAC;IAElB,MAAM,SAAS;QACX,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;QAAO;kBAChD;;;;;;AAGb;GAjCgB;;QAGG,kJAAS;;;KAHZ;AAmCT,SAAS;;IACZ,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANgB"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/api/api-client.ts"],"sourcesContent":["import axios, { AxiosInstance } from 'axios';\r\n\r\n/**\r\n * Platform-agnostic API client configuration\r\n * Works in both Next.js and React Native environments\r\n */\r\n\r\nexport interface ApiClientConfig {\r\n    baseURL: string;\r\n    timeout?: number;\r\n}\r\n\r\n/**\r\n * Create a configured axios instance for API calls\r\n * Automatically includes credentials for web, handles JSON, and provides error parsing\r\n */\r\nexport function createApiClient(config: ApiClientConfig): AxiosInstance {\r\n    const instance = axios.create({\r\n        baseURL: config.baseURL,\r\n        timeout: config.timeout || 30000,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n        },\r\n        // Include credentials for web (cookies)\r\n        withCredentials: true,\r\n    });\r\n\r\n    // Request interceptor - can add auth tokens here\r\n    instance.interceptors.request.use(\r\n        (config) => {\r\n            // Future: Add auth token from storage\r\n            // const token = getAuthToken();\r\n            // if (token) config.headers.Authorization = `Bearer ${token}`;\r\n            return config;\r\n        },\r\n        (error) => Promise.reject(error)\r\n    );\r\n\r\n    // Response interceptor - standardize error handling\r\n    instance.interceptors.response.use(\r\n        (response) => response,\r\n        (error) => {\r\n            if (error.response) {\r\n                // Server responded with error status\r\n                const apiError = {\r\n                    status: error.response.status,\r\n                    message: error.response.data?.error || error.message,\r\n                    details: error.response.data?.details,\r\n                };\r\n                return Promise.reject(apiError);\r\n            } else if (error.request) {\r\n                // Request made but no response\r\n                return Promise.reject({\r\n                    status: 0,\r\n                    message: 'Network error - no response from server',\r\n                });\r\n            } else {\r\n                // Error setting up request\r\n                return Promise.reject({\r\n                    status: 0,\r\n                    message: error.message,\r\n                });\r\n            }\r\n        }\r\n    );\r\n\r\n    return instance;\r\n}\r\n\r\n/**\r\n * Get the API base URL from environment variables\r\n * Supports both Next.js (NEXT_PUBLIC_) and Expo (EXPO_PUBLIC_)\r\n */\r\nexport function getApiBaseUrl(): string {\r\n    // Next.js environment variable\r\n    if (typeof process !== 'undefined' && process.env?.NEXT_PUBLIC_API_URL) {\r\n        return process.env.NEXT_PUBLIC_API_URL;\r\n    }\r\n\r\n    // Expo environment variable\r\n    if (typeof process !== 'undefined' && process.env?.EXPO_PUBLIC_API_URL) {\r\n        return process.env.EXPO_PUBLIC_API_URL;\r\n    }\r\n\r\n    // Default fallback for development\r\n    return 'http://localhost:3000';\r\n}\r\n\r\n/**\r\n * Default API client instance\r\n * Use this for all API calls\r\n */\r\nexport const apiClient = createApiClient({\r\n    baseURL: getApiBaseUrl(),\r\n});\r\n"],"names":[],"mappings":";;;;;;;;AA2Ee;AA3Ef;;AAgBO,SAAS,gBAAgB,MAAuB;IACnD,MAAM,WAAW,mJAAK,CAAC,MAAM,CAAC;QAC1B,SAAS,OAAO,OAAO;QACvB,SAAS,OAAO,OAAO,IAAI;QAC3B,SAAS;YACL,gBAAgB;QACpB;QACA,wCAAwC;QACxC,iBAAiB;IACrB;IAEA,iDAAiD;IACjD,SAAS,YAAY,CAAC,OAAO,CAAC,GAAG;+BAC7B,CAAC;YACG,sCAAsC;YACtC,gCAAgC;YAChC,+DAA+D;YAC/D,OAAO;QACX;;+BACA,CAAC,QAAU,QAAQ,MAAM,CAAC;;IAG9B,oDAAoD;IACpD,SAAS,YAAY,CAAC,QAAQ,CAAC,GAAG;+BAC9B,CAAC,WAAa;;+BACd,CAAC;YACG,IAAI,MAAM,QAAQ,EAAE;gBAChB,qCAAqC;gBACrC,MAAM,WAAW;oBACb,QAAQ,MAAM,QAAQ,CAAC,MAAM;oBAC7B,SAAS,MAAM,QAAQ,CAAC,IAAI,EAAE,SAAS,MAAM,OAAO;oBACpD,SAAS,MAAM,QAAQ,CAAC,IAAI,EAAE;gBAClC;gBACA,OAAO,QAAQ,MAAM,CAAC;YAC1B,OAAO,IAAI,MAAM,OAAO,EAAE;gBACtB,+BAA+B;gBAC/B,OAAO,QAAQ,MAAM,CAAC;oBAClB,QAAQ;oBACR,SAAS;gBACb;YACJ,OAAO;gBACH,2BAA2B;gBAC3B,OAAO,QAAQ,MAAM,CAAC;oBAClB,QAAQ;oBACR,SAAS,MAAM,OAAO;gBAC1B;YACJ;QACJ;;IAGJ,OAAO;AACX;AAMO,SAAS;IACZ,+BAA+B;IAC/B,IAAI,OAAO,2KAAO,KAAK,0EAAiD;QACpE;IACJ;IAEA,4BAA4B;IAC5B,IAAI,OAAO,2KAAO,KAAK,eAAe,2KAAO,CAAC,GAAG,EAAE,qBAAqB;QACpE,OAAO,2KAAO,CAAC,GAAG,CAAC,mBAAmB;IAC1C;IAEA,mCAAmC;IACnC,OAAO;AACX;AAMO,MAAM,YAAY,gBAAgB;IACrC,SAAS;AACb"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/api/query-client.ts"],"sourcesContent":["import { QueryClient } from '@tanstack/react-query';\r\n\r\n/**\r\n * Create a pre-configured QueryClient with sensible defaults\r\n * Use this factory to ensure consistent configuration across web and mobile apps\r\n */\r\nexport function createQueryClient(): QueryClient {\r\n    return new QueryClient({\r\n        defaultOptions: {\r\n            queries: {\r\n                // Cache data for 5 minutes\r\n                staleTime: 5 * 60 * 1000,\r\n\r\n                // Keep unused data in cache for 10 minutes\r\n                gcTime: 10 * 60 * 1000,\r\n\r\n                // Don't refetch on window focus by default\r\n                refetchOnWindowFocus: false,\r\n\r\n                // Retry failed requests once\r\n                retry: 1,\r\n\r\n                // Retry delay: 1 second\r\n                retryDelay: 1000,\r\n            },\r\n            mutations: {\r\n                // Retry failed mutations once\r\n                retry: 1,\r\n            },\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAMO,SAAS;IACZ,OAAO,IAAI,+LAAW,CAAC;QACnB,gBAAgB;YACZ,SAAS;gBACL,2BAA2B;gBAC3B,WAAW,IAAI,KAAK;gBAEpB,2CAA2C;gBAC3C,QAAQ,KAAK,KAAK;gBAElB,2CAA2C;gBAC3C,sBAAsB;gBAEtB,6BAA6B;gBAC7B,OAAO;gBAEP,wBAAwB;gBACxB,YAAY;YAChB;YACA,WAAW;gBACP,8BAA8B;gBAC9B,OAAO;YACX;QACJ;IACJ;AACJ"}},
    {"offset": {"line": 395, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/api/query-keys.ts"],"sourcesContent":["import type { GetOrdersParams } from './api-types';\r\n\r\n/**\r\n * Query Key Factory\r\n * Centralized query key management for React Query cache\r\n * \r\n * Benefits:\r\n * - Type-safe query keys\r\n * - Easy cache invalidation\r\n * - Consistent naming across the app\r\n */\r\n\r\nexport const queryKeys = {\r\n    /**\r\n     * Orders query keys\r\n     */\r\n    orders: {\r\n        // Base key for all orders queries\r\n        all: ['orders'] as const,\r\n\r\n        // Keys for list queries\r\n        lists: () => [...queryKeys.orders.all, 'list'] as const,\r\n        list: (params?: GetOrdersParams) =>\r\n            [...queryKeys.orders.lists(), params ?? {}] as const,\r\n\r\n        // Keys for detail queries\r\n        details: () => [...queryKeys.orders.all, 'detail'] as const,\r\n        detail: (id: string) =>\r\n            [...queryKeys.orders.details(), id] as const,\r\n    },\r\n\r\n    // Future: Add more resource query keys here\r\n    // drivers: { ... },\r\n    // deliveries: { ... },\r\n};\r\n\r\n/**\r\n * Usage examples:\r\n * \r\n * // Invalidate all orders queries\r\n * queryClient.invalidateQueries({ queryKey: queryKeys.orders.all });\r\n * \r\n * // Invalidate specific order list\r\n * queryClient.invalidateQueries({ queryKey: queryKeys.orders.list({ status: 'pending' }) });\r\n * \r\n * // Invalidate specific order detail\r\n * queryClient.invalidateQueries({ queryKey: queryKeys.orders.detail('123') });\r\n */\r\n"],"names":[],"mappings":";;;;AAYO,MAAM,YAAY;IACrB;;KAEC,GACD,QAAQ;QACJ,kCAAkC;QAClC,KAAK;YAAC;SAAS;QAEf,wBAAwB;QACxB,OAAO,IAAM;mBAAI,UAAU,MAAM,CAAC,GAAG;gBAAE;aAAO;QAC9C,MAAM,CAAC,SACH;mBAAI,UAAU,MAAM,CAAC,KAAK;gBAAI,UAAU,CAAC;aAAE;QAE/C,0BAA0B;QAC1B,SAAS,IAAM;mBAAI,UAAU,MAAM,CAAC,GAAG;gBAAE;aAAS;QAClD,QAAQ,CAAC,KACL;mBAAI,UAAU,MAAM,CAAC,OAAO;gBAAI;aAAG;IAC3C;AAKJ,GAEA;;;;;;;;;;;CAWC"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/api/hooks/use-orders.ts"],"sourcesContent":["import { useQuery, useMutation, useQueryClient, UseQueryResult, UseMutationResult } from '@tanstack/react-query';\r\nimport { apiClient } from '../api-client';\r\nimport { queryKeys } from '../query-keys';\r\nimport type {\r\n    GetOrdersParams,\r\n    GetOrdersResponse,\r\n    CreateOrderRequest,\r\n    CreateOrderResponse,\r\n    UpdateOrderRequest,\r\n    UpdateOrderResponse,\r\n    GetOrderByIdResponse,\r\n} from '../api-types';\r\n\r\n/**\r\n * Fetch all orders with optional filters\r\n * @param params - Optional filters (status, limit, offset)\r\n * @returns Query result with orders data\r\n */\r\nexport function useOrders(params?: GetOrdersParams): UseQueryResult<GetOrdersResponse, Error> {\r\n    return useQuery({\r\n        queryKey: queryKeys.orders.list(params),\r\n        queryFn: async () => {\r\n            const response = await apiClient.get<GetOrdersResponse>('/api/orders', {\r\n                params,\r\n            });\r\n            return response.data;\r\n        },\r\n    });\r\n}\r\n\r\n/**\r\n * Fetch a single order by ID\r\n * @param id - Order ID\r\n * @param enabled - Whether the query should run (defaults to true)\r\n * @returns Query result with order data\r\n */\r\nexport function useOrder(\r\n    id: string,\r\n    enabled: boolean = true\r\n): UseQueryResult<GetOrderByIdResponse, Error> {\r\n    return useQuery({\r\n        queryKey: queryKeys.orders.detail(id),\r\n        queryFn: async () => {\r\n            const response = await apiClient.get<GetOrderByIdResponse>(`/api/orders/${id}`);\r\n            return response.data;\r\n        },\r\n        enabled: enabled && !!id,\r\n    });\r\n}\r\n\r\n/**\r\n * Create a new order\r\n * @returns Mutation result with mutate/mutateAsync functions\r\n */\r\nexport function useCreateOrder(): UseMutationResult<\r\n    CreateOrderResponse,\r\n    Error,\r\n    CreateOrderRequest,\r\n    unknown\r\n> {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async (orderData: CreateOrderRequest) => {\r\n            const response = await apiClient.post<CreateOrderResponse>('/api/orders', orderData);\r\n            return response.data;\r\n        },\r\n        onSuccess: () => {\r\n            // Invalidate all order lists to refetch with new data\r\n            queryClient.invalidateQueries({ queryKey: queryKeys.orders.lists() });\r\n        },\r\n    });\r\n}\r\n\r\n/**\r\n * Update an existing order\r\n * @returns Mutation result with mutate/mutateAsync functions\r\n */\r\nexport function useUpdateOrder(): UseMutationResult<\r\n    UpdateOrderResponse,\r\n    Error,\r\n    { id: string; data: UpdateOrderRequest },\r\n    unknown\r\n> {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async ({ id, data }: { id: string; data: UpdateOrderRequest }) => {\r\n            const response = await apiClient.patch<UpdateOrderResponse>(`/api/orders/${id}`, data);\r\n            return response.data;\r\n        },\r\n        onSuccess: (_data, variables) => {\r\n            // Invalidate both the specific order and the lists\r\n            queryClient.invalidateQueries({ queryKey: queryKeys.orders.detail(variables.id) });\r\n            queryClient.invalidateQueries({ queryKey: queryKeys.orders.lists() });\r\n        },\r\n    });\r\n}\r\n\r\n/**\r\n * Delete an order\r\n * @returns Mutation result with mutate/mutateAsync functions\r\n */\r\nexport function useDeleteOrder(): UseMutationResult<void, Error, string, unknown> {\r\n    const queryClient = useQueryClient();\r\n\r\n    return useMutation({\r\n        mutationFn: async (id: string) => {\r\n            await apiClient.delete(`/api/orders/${id}`);\r\n        },\r\n        onSuccess: (_, id) => {\r\n            // Remove from cache and invalidate lists\r\n            queryClient.removeQueries({ queryKey: queryKeys.orders.detail(id) });\r\n            queryClient.invalidateQueries({ queryKey: queryKeys.orders.lists() });\r\n        },\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAAA;AACA;AACA;;;;;AAgBO,SAAS,UAAU,MAAwB;;IAC9C,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU,iKAAS,CAAC,MAAM,CAAC,IAAI,CAAC;QAChC,OAAO;kCAAE;gBACL,MAAM,WAAW,MAAM,iKAAS,CAAC,GAAG,CAAoB,eAAe;oBACnE;gBACJ;gBACA,OAAO,SAAS,IAAI;YACxB;;IACJ;AACJ;GAVgB;;QACL,0LAAQ;;;AAiBZ,SAAS,SACZ,EAAU,EACV,UAAmB,IAAI;;IAEvB,OAAO,IAAA,0LAAQ,EAAC;QACZ,UAAU,iKAAS,CAAC,MAAM,CAAC,MAAM,CAAC;QAClC,OAAO;iCAAE;gBACL,MAAM,WAAW,MAAM,iKAAS,CAAC,GAAG,CAAuB,CAAC,YAAY,EAAE,IAAI;gBAC9E,OAAO,SAAS,IAAI;YACxB;;QACA,SAAS,WAAW,CAAC,CAAC;IAC1B;AACJ;IAZgB;;QAIL,0LAAQ;;;AAcZ,SAAS;;IAMZ,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;0CAAE,OAAO;gBACf,MAAM,WAAW,MAAM,iKAAS,CAAC,IAAI,CAAsB,eAAe;gBAC1E,OAAO,SAAS,IAAI;YACxB;;QACA,SAAS;0CAAE;gBACP,sDAAsD;gBACtD,YAAY,iBAAiB,CAAC;oBAAE,UAAU,iKAAS,CAAC,MAAM,CAAC,KAAK;gBAAG;YACvE;;IACJ;AACJ;IAlBgB;;QAMQ,2MAAc;QAE3B,gMAAW;;;AAgBf,SAAS;;IAMZ,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;0CAAE,OAAO,EAAE,EAAE,EAAE,IAAI,EAA4C;gBACrE,MAAM,WAAW,MAAM,iKAAS,CAAC,KAAK,CAAsB,CAAC,YAAY,EAAE,IAAI,EAAE;gBACjF,OAAO,SAAS,IAAI;YACxB;;QACA,SAAS;0CAAE,CAAC,OAAO;gBACf,mDAAmD;gBACnD,YAAY,iBAAiB,CAAC;oBAAE,UAAU,iKAAS,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE;gBAAE;gBAChF,YAAY,iBAAiB,CAAC;oBAAE,UAAU,iKAAS,CAAC,MAAM,CAAC,KAAK;gBAAG;YACvE;;IACJ;AACJ;IAnBgB;;QAMQ,2MAAc;QAE3B,gMAAW;;;AAiBf,SAAS;;IACZ,MAAM,cAAc,IAAA,2MAAc;IAElC,OAAO,IAAA,gMAAW,EAAC;QACf,UAAU;0CAAE,OAAO;gBACf,MAAM,iKAAS,CAAC,MAAM,CAAC,CAAC,YAAY,EAAE,IAAI;YAC9C;;QACA,SAAS;0CAAE,CAAC,GAAG;gBACX,yCAAyC;gBACzC,YAAY,aAAa,CAAC;oBAAE,UAAU,iKAAS,CAAC,MAAM,CAAC,MAAM,CAAC;gBAAI;gBAClE,YAAY,iBAAiB,CAAC;oBAAE,UAAU,iKAAS,CAAC,MAAM,CAAC,KAAK;gBAAG;YACvE;;IACJ;AACJ;IAbgB;;QACQ,2MAAc;QAE3B,gMAAW"}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/packages/shared/src/index.ts"],"sourcesContent":["// Shared utilities, schemas, auth, and Supabase client\r\nexport * from './schemas/order';\r\nexport * from './auth-context';\r\nexport * from './supabase';\r\n\r\n// API utilities and React Query hooks\r\nexport * from './api/api-client';\r\nexport * from './api/api-types';\r\nexport * from './api/query-client';\r\nexport * from './api/query-keys';\r\nexport * from './api/hooks/use-orders';\r\n\r\n"],"names":[],"mappings":"AAAA,uDAAuD;;AACvD;AACA;AACA;AAEA,sCAAsC;AACtC;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/apps/web/src/lib/supabase/client.ts"],"sourcesContent":["import { createBrowserClient } from '@supabase/ssr';\r\n\r\nexport function createClient() {\r\n    return createBrowserClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAIQ;AAJR;AAAA;;AAEO,SAAS;IACZ,OAAO,IAAA,oMAAmB;AAI9B"}},
    {"offset": {"line": 637, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/apps/web/src/lib/auth-context.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { createClient } from '@/lib/supabase/client';\r\nimport type { User } from '@supabase/supabase-js';\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    loading: boolean;\r\n    logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const router = useRouter();\r\n    const supabase = createClient();\r\n\r\n    useEffect(() => {\r\n        // Get initial session\r\n        supabase.auth.getSession().then(({ data: { session } }) => {\r\n            setUser(session?.user ?? null);\r\n            setLoading(false);\r\n        });\r\n\r\n        // Listen for auth changes\r\n        const {\r\n            data: { subscription },\r\n        } = supabase.auth.onAuthStateChange((_event, session) => {\r\n            setUser(session?.user ?? null);\r\n        });\r\n\r\n        return () => subscription.unsubscribe();\r\n    }, [supabase.auth]);\r\n\r\n    const logout = async () => {\r\n        await supabase.auth.signOut();\r\n        router.push('/signin');\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, loading, logout }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;;;AAJA;;;;AAaA,MAAM,4BAAc,IAAA,8KAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAC9D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,kKAAY;IAE7B,IAAA,0KAAS;kCAAC;YACN,sBAAsB;YACtB,SAAS,IAAI,CAAC,UAAU,GAAG,IAAI;0CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE;oBAClD,QAAQ,SAAS,QAAQ;oBACzB,WAAW;gBACf;;YAEA,0BAA0B;YAC1B,MAAM,EACF,MAAM,EAAE,YAAY,EAAE,EACzB,GAAG,SAAS,IAAI,CAAC,iBAAiB;0CAAC,CAAC,QAAQ;oBACzC,QAAQ,SAAS,QAAQ;gBAC7B;;YAEA;0CAAO,IAAM,aAAa,WAAW;;QACzC;iCAAG;QAAC,SAAS,IAAI;KAAC;IAElB,MAAM,SAAS;QACX,MAAM,SAAS,IAAI,CAAC,OAAO;QAC3B,OAAO,IAAI,CAAC;IAChB;IAEA,qBACI,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;QAAO;kBAChD;;;;;;AAGb;GAjCgB;;QAGG,kJAAS;;;KAHZ;AAmCT,SAAS;;IACZ,MAAM,UAAU,IAAA,2KAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX;IANgB"}},
    {"offset": {"line": 723, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/apps/web/src/components/theme-provider.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport { ThemeProvider as NextThemesProvider } from 'next-themes';\r\n\r\ntype ThemeProviderProps = React.ComponentProps<typeof NextThemesProvider>;\r\n\r\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\r\n    return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,OAA2B;IACpE,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AAC3C;KAFgB"}},
    {"offset": {"line": 752, "column": 0}, "map": {"version":3,"sources":["file:///D:/Work/FYP/order-automation/apps/web/src/components/providers/AppProviders.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { QueryClientProvider } from '@tanstack/react-query';\r\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\r\nimport { createQueryClient } from '@repo/shared';\r\nimport { AuthProvider } from '@/lib/auth-context';\r\nimport { ThemeProvider } from '@/components/theme-provider';\r\n\r\nexport function AppProviders({ children }: { children: React.ReactNode }) {\r\n    // Create a QueryClient instance per component mount\r\n    const [queryClient] = useState(() => createQueryClient());\r\n\r\n    return (\r\n        <QueryClientProvider client={queryClient}>\r\n            <ThemeProvider\r\n                attribute=\"class\"\r\n                defaultTheme=\"system\"\r\n                enableSystem\r\n                disableTransitionOnChange\r\n            >\r\n                <AuthProvider>\r\n                    {children}\r\n                </AuthProvider>\r\n            </ThemeProvider>\r\n            {/* React Query DevTools - only in development */}\r\n            {process.env.NODE_ENV === 'development' && (\r\n                <ReactQueryDevtools initialIsOpen={false} />\r\n            )}\r\n        </QueryClientProvider>\r\n    );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AA0Ba;;AAxBb;AACA;AACA;AACA;AAAA;AACA;AACA;;;AAPA;;;;;;;AASO,SAAS,aAAa,EAAE,QAAQ,EAAiC;;IACpE,oDAAoD;IACpD,MAAM,CAAC,YAAY,GAAG,IAAA,yKAAQ;iCAAC,IAAM,IAAA,2KAAiB;;IAEtD,qBACI,6LAAC,gNAAmB;QAAC,QAAQ;;0BACzB,6LAAC,0KAAa;gBACV,WAAU;gBACV,cAAa;gBACb,YAAY;gBACZ,yBAAyB;0BAEzB,cAAA,6LAAC,gKAAY;8BACR;;;;;;;;;;;YAIR,oDAAyB,+BACtB,6LAAC,6MAAkB;gBAAC,eAAe;;;;;;;;;;;;AAInD;GAtBgB;KAAA"}}]
}